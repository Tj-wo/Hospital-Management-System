<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/template.xhtml">
    <ui:define name="title">Register Patient</ui:define>
    <ui:define name="content">
        <div class="card" style="max-width: 800px; margin: auto;">
            <div class="card-header"><h2 class="card-title"><i class="pi pi-user-plus"></i> New Patient Registration</h2></div>
            <div class="card-content">
                <h:form id="registerForm">
                    <div class="ui-fluid">
                        <p:panelGrid columns="2" styleClass="ui-panelgrid-blank" layout="grid">
                            <div class="p-field"><p:outputLabel for="firstName" value="First Name:"/><p:inputText id="firstName" value="#{receptionistPatientBean.newPatient.firstName}" required="true"/></div>
                            <div class="p-field"><p:outputLabel for="lastName" value="Last Name:"/><p:inputText id="lastName" value="#{receptionistPatientBean.newPatient.lastName}" required="true"/></div>
                            <div class="p-field"><p:outputLabel for="email" value="Email Address:"/><p:inputText id="email" value="#{receptionistPatientBean.newPatient.email}" required="true" validatorMessage="Invalid email format"><f:validateRegex pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$" /></p:inputText></div>
                            <div class="p-field"><p:outputLabel for="dob" value="Date of Birth:"/><p:calendar id="dob" value="#{receptionistPatientBean.newPatient.dateOfBirth}" pattern="yyyy-MM-dd" required="true" navigator="true" yearRange="c-100:c"/></div>
                            <div class="p-field"><p:outputLabel for="password" value="Initial Password:"/><p:password id="password" value="#{receptionistPatientBean.password}" required="true" feedback="false"/></div>
                        </p:panelGrid>
                    </div>
                    <p:commandButton value="Register Patient" icon="pi pi-check" actionListener="#{receptionistPatientBean.registerPatient}" update="@form :global-growl" styleClass="btn-primary" style="margin-top: 20px;"/>
                </h:form>
            </div>
        </div>
    </ui:define>
</ui:composition>
</html>